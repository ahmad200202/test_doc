"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UrlRouterProvider=void 0;var core_1=require("@uirouter/core"),core_2=require("@uirouter/core"),UrlRouterProvider=function(){function UrlRouterProvider(router){this.router=router}return UrlRouterProvider.injectableHandler=function(router,handler){return function(match){return core_2.services.$injector.invoke(handler,null,{$match:match,$stateParams:router.globals.params})}},UrlRouterProvider.prototype.$get=function(){var urlService=this.router.urlService;return this.router.urlRouter.update(!0),urlService.interceptDeferred||urlService.listen(),this.router.urlRouter},UrlRouterProvider.prototype.rule=function(ruleFn){var _this=this;if(!core_2.isFunction(ruleFn))throw new Error("'rule' must be a function");var match=function(){return ruleFn(core_2.services.$injector,_this.router.locationService)},rule=new core_1.BaseUrlRule(match,core_2.identity);return this.router.urlService.rules.rule(rule),this},UrlRouterProvider.prototype.otherwise=function(rule){var _this=this,urlRules=this.router.urlService.rules;if(core_2.isString(rule))urlRules.otherwise(rule);else{if(!core_2.isFunction(rule))throw new Error("'rule' must be a string or function");urlRules.otherwise(function(){return rule(core_2.services.$injector,_this.router.locationService)})}return this},UrlRouterProvider.prototype.when=function(what,handler){return(core_2.isArray(handler)||core_2.isFunction(handler))&&(handler=UrlRouterProvider.injectableHandler(this.router,handler)),this.router.urlService.rules.when(what,handler),this},UrlRouterProvider.prototype.deferIntercept=function(defer){this.router.urlService.deferIntercept(defer)},UrlRouterProvider}();exports.UrlRouterProvider=UrlRouterProvider;