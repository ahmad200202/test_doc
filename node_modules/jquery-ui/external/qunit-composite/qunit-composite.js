!function(factory){"function"==typeof define&&define.amd?define(["qunit"],factory):factory(QUnit)}(function(QUnit){function hasClass(elem,name){return(" "+elem.className+" ").indexOf(" "+name+" ")>-1}function addClass(elem,name){hasClass(elem,name)||(elem.className+=(elem.className?" ":"")+name)}function addEvent(elem,type,fn){elem.addEventListener?elem.addEventListener(type,fn,!1):elem.attachEvent&&elem.attachEvent("on"+type,fn)}function runSuite(suite){var path;QUnit.is("object",suite)?(path=suite.path,suite=suite.name):path=suite,QUnit.asyncTest(suite,function(){iframe.setAttribute("src",path)})}function initIframe(){function onIframeLoad(){var moduleName,testName,count=0;if(iframe.src){if(!iframeWin.QUnit&&iframeWin.define&&iframeWin.define.amd)return iframeWin.require(["qunit"],onIframeLoad);iframeWin.QUnit.moduleStart(function(data){moduleName=data.name}),iframeWin.QUnit.testStart(function(data){testName=data.name}),iframeWin.QUnit.testDone(function(){testName=void 0}),iframeWin.QUnit.log(function(data){if(void 0!==testName){var message=(moduleName?moduleName+": ":"")+testName+": "+(data.message||(data.result?"okay":"failed"));expect(++count),QUnit.push(data.result,data.actual,data.expected,message)}}),iframeWin.QUnit.done(QUnit.start)}}var iframeWin,body=document.body;iframe=document.createElement("iframe"),iframe.className="qunit-composite-suite",body.appendChild(iframe),addEvent(iframe,"load",onIframeLoad),iframeWin=iframe.contentWindow}var iframe,hasBound,modules=1,executingComposite=!1;QUnit.testSuites=function(name,suites){var i,suitesLen;for(1===arguments.length&&(suites=name,name="Composition #"+modules++),suitesLen=suites.length,hasBound||(hasBound=!0,QUnit.begin(initIframe),QUnit.moduleDone(function(){executingComposite=!1}),QUnit.done(function(){iframe.style.display="none"})),QUnit.module(name,{setup:function(){executingComposite=!0}}),i=0;suitesLen>i;i++)runSuite(suites[i])},QUnit.testDone(function(data){if(executingComposite){var i,len,testId=data.testId||QUnit.config.current.testId||data.testNumber||QUnit.config.current.testNumber,current=testId?document.getElementById("qunit-test-output-"+testId)||document.getElementById("qunit-test-output"+testId):document.getElementById(QUnit.config.current.id),children=current&&current.children,src=iframe.src;if(current&&children){for(addEvent(current,"dblclick",function(e){var target=e&&e.target?e.target:window.event.srcElement;("span"===target.nodeName.toLowerCase()||"b"===target.nodeName.toLowerCase())&&(target=target.parentNode),window.location&&"strong"===target.nodeName.toLowerCase()&&(window.location=src)}),i=0,len=children.length;len>i;i++)"ol"===children[i].nodeName.toLowerCase()&&addClass(children[i],"qunit-collapsed");current.getElementsByTagName("a")[0].href=src}}})});