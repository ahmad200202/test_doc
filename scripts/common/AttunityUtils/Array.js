!function(global){"use strict";var ArrayUtils={first:function(arr){return arr&&arr.length>0?arr[0]:null},last:function(arr){return arr&&arr.length>0?arr[arr.length-1]:null},clean:function(arr,deleteValue){for(var i=0;i<arr.length;i++)arr[i]==deleteValue&&(arr.splice(i,1),i--);return arr},append:function(arr1,arr2){for(var pad=arr1.length,i=-1,n=arr2.length;++i<n;)arr1[pad+i]=arr2[i];return arr1},combine:function(arr1,arr2){var x,length=arr2.length;for(x=0;length>x;x++)-1===indexOf(arr1,arr2[x])&&arr1.push(arr2[x]);return arr1},compact:function(arr){return ArrayUtils.filter(arr,function(val){return null!=val})},contains:function(arr,val){return-1!==ArrayUtils.indexOf(arr,val)},difference:function(arr){var arrs=Array.prototype.slice.call(arguments,1),result=ArrayUtils.filter(ArrayUtils.unique(arr),function(needle){return!ArrayUtils.some(arrs,function(haystack){return ArrayUtils.contains(haystack,needle)})});return result},each:function(arr,callback){if(null!=arr)for(var i=-1,n=arr.length;++i<n&&callback(arr[i],i,arr)!==!1;);},emptyArray:function(arr){arr.splice(0,arr.length)},appendArrayToArray:function(arrayTarget,arraySource){Array.prototype.push.apply(arrayTarget,arraySource)},filter:function(arr,callback){var results=[];return ArrayUtils.each(arr,function(val,i,arr){callback(val,i,arr)&&results.push(val)}),results},find:function(arr,iterator){for(var needle,val,i=-1,n=arr.length;++i<n;)if(val=arr[i],iterator(val,i,arr)){needle=val;break}return needle},findValue:function(arr,iterator,delimiter){var item=ArrayUtils.find(arr,iterator);if(angular.isUndefined(item))return"";var localDelimiter="|_@_"+delimiter+"|_@_",manipulatedItem=item.replace(delimiter,localDelimiter),arrItem=manipulatedItem.split(localDelimiter);return arrItem[1]},indexOf:function(arr,item,fromIndex){fromIndex=fromIndex||0;for(var n=arr.length,i=0>fromIndex?n+fromIndex:fromIndex;n>i;){if(arr[i]===item)return i;i+=1}return-1},indexOfByProperty:function(arr,prop,value,fromIndex){fromIndex=fromIndex||0;for(var n=arr.length,i=0>fromIndex?n+fromIndex:fromIndex;n>i;){if(arr[i][prop]==value)return i;i+=1}return-1},indexOfByNestedProperty:function(arr,nestedProp,value,fromIndex){fromIndex=fromIndex||0;for(var propPathArr=nestedProp.split("."),n=arr.length,i=0>fromIndex?n+fromIndex:fromIndex;n>i;){var currentItem=arr[i];if(angular.forEach(propPathArr,function(currentNestedProp){currentItem=currentItem[currentNestedProp]}),currentItem==value)return i;i+=1}return-1},insert:function(arr){var diff=ArrayUtils.difference(ArrayUtils.toArray(arguments).slice(1),arr);return diff.length&&Array.prototype.push.apply(arr,diff),arr.length},insertAt:function(arr,index,item){var diff=ArrayUtils.difference(ArrayUtils.toArray(arguments).slice(1),arr);return diff.length&&arr.splice(index,0,item),arr.length},map:function(arr,callback){var results=[];return null==arr?results:(ArrayUtils.each(arr,function(val,i,arr){results[i]=callback(val,i,arr)}),results)},max:function(arr,iterator){if(arr.length&&!iterator)return Math.max.apply(Math,arr);if(arr.length){var result,tmp,compare=-1/0;return ArrayUtils.each(arr,function(val,i,list){tmp=iterator(val,i,list),tmp>compare&&(compare=tmp,result=val)}),result}return 1/0},min:function(arr,iterator){if(arr.length&&!iterator)return Math.min.apply(Math,arr);if(arr.length){var result,tmp,compare=1/0;return ArrayUtils.each(arr,function(val,i,list){tmp=iterator(val,i,list),compare>tmp&&(compare=tmp,result=val)}),result}return-1/0},median:function(values,sortFn){var sortFn=sortFn||function(a,b){return a-b};values.sort(sortFn);var half=Math.floor(values.length/2);return values[half]},ObjectByProperty:function(arr,prop,value,fromIndex){var index=this.indexOfByProperty(arr,prop,value,fromIndex);return 0>index?null:arr[index]},removeElementFromArray:function(arr,item){var index=arr.indexOf(item);return index>-1?(arr.splice(index,1),!0):!1},removeElementByNestedProperty:function(arr,nestedProp,value){var indexToRemove=ArrayUtils.indexOfByNestedProperty(arr,nestedProp,value);indexToRemove>-1&&arr.splice(indexToRemove,1)},removeObjectFromArray:function(arr,objToRemove){if(void 0==arr||0==arr.length)return!1;if(void 0==objToRemove)return!1;var objToRemoveProperties=Object.keys(objToRemove);if(0==objToRemoveProperties.length)return!1;for(var indexOfMatchedObj=-1,i=0;i<arr.length;i++){var arrItem=arr[i],arrItemProperties=Object.keys(arrItem);if(arrItemProperties.length==objToRemoveProperties.length){for(var matchCounter=0,j=0;j<arrItemProperties.length;j++){if(void 0==objToRemove[arrItemProperties[j]])return!1;arrItem[arrItemProperties[j]]===objToRemove[arrItemProperties[j]]&&matchCounter++}if(matchCounter==arrItemProperties.length){indexOfMatchedObj=i;break}}}return indexOfMatchedObj>-1?(arr.splice(indexOfMatchedObj,1),!0):!1},some:function(arr,callback){for(var result=!1,i=-1,n=arr.length;++i<n;)if(callback(arr[i],i,arr)){result=!0;break}return result},sort:function(arr,compareFunc){compareFunc?arr.sort(compareFunc):arr.sort()},sortByProp:function(arr,prop){prop?arr.sort(function(a,b){return a[prop].toLowerCase()<b[prop].toLowerCase()?-1:a[prop].toLowerCase()>b[prop].toLowerCase()?1:0}):arr.sort()},toArray:function(val){var n,ret=[],kind=typeof val;if(null!=val)if(null==val.length||"String"===kind||"Function"===kind||"RegExp"===kind)ret[ret.length]=val;else for(n=val.length;n--;)ret[n]=val[n];return ret},unique:function(arr){return ArrayUtils.filter(arr,function(item,i,arr){return-1===ArrayUtils.indexOf(arr,item,i+1)})},isArray:function(arr){return angular.isArray(arr)},swapArrayElements:function(array,i1,i2){var temp=array[i1];array[i1]=array[i2],array[i2]=temp}};global.ArrayUtils=ArrayUtils}(window);