!function(angular){"use strict";function getParameterByName(name,url){url||(url=window.location.href),name=name.replace(/[\[\]]/g,"\\$&");var regex=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)"),results=regex.exec(url);return results?results[2]?decodeURIComponent(results[2].replace(/\+/g," ")):"":null}var controllers=angular.module(window.AppName+".documentationControllers");controllers.controller(composeConsts.DocumentationCtrls.DocumentationAppCtrl,["$rootScope","$scope","$document","$state","$timeout",composeConsts.DocumentationSrvcs.DisplayService,composeConsts.DocumentationSrvcs.PrintService,function($rootScope,$scope,$document,$state,$timeout,DisplayService,PrintService){$scope.is_loading=!0,$scope.printMode="true"==getParameterByName("print"),DisplayService.data.printMode=$scope.printMode,$rootScope.COMPOSE_CONSTS=composeConsts,$rootScope.consts=consts,$rootScope.DO=DO;var openPrintMode=function(){window.open(window.location+"?print=true","_blank","width="+.98*window.width()+",height="+.98*window.height())};$scope.onPrint=function(){openPrintMode()},window.attGridConfig.headerCtxMenuActions={sorting:!1,freezeColumn:!1,quickColumnSelection:!1,exportToCSV:!1,exportToHTML:!1,columnSettings:!1,hideColumn:!1,valuesFilter:!1},$document.on("keyup keydown",function(e){e.ctrlKey&&80==e.keyCode&&openPrintMode()}),$scope.load_repositoryAsync=function(u,onSuccess,onError){var t="script",o=document.createElement(t),s=document.getElementsByTagName(t)[0];o.src=u,o.addEventListener("error",function(){onError&&onError()}),o.addEventListener("load",function(e){onSuccess&&onSuccess(null,e)},!1),s.parentNode.insertBefore(o,s)},$scope.load_repositoryAsync(composeConsts.REPOSITORY_FILE_NAME,function(){if($scope.Repository=window.Repository,$scope.is_loading=!1,void 0!=$scope.Repository&&($rootScope.project_name=DisplayService.getProjectName(),$rootScope.generation_time=DisplayService.getProjectCreateTime()),$scope.$applyAsync(),$scope.printMode){var date_str=(new Date).toGMTString().replaceAll(":","_").replaceAll("//","_").replaceAll("\\","_").replaceAll(",","_").replaceAll(" ","_").replaceAll("__","_");document.title=DisplayService.getProjectName()+" "+composeConsts.DocumentationTexts.Title+"_"+date_str,PrintService.printProjectDocumentation(angular.element(".mainPrintContent")),$timeout(function(){window.print()},1500)}},function(){$scope.Repository=null,$scope.is_loading=!1,$scope.$applyAsync()})}])}(angular);