!function(angular){"use strict";var barChartModule=angular.module("attBarChart",[]);barChartModule.directive("attBarChart",["attChartSelectionService","attChartOverlayService","GlobalEvents",function(AttChartSelectionService,AttChartOverlayService,GlobalEvents){return{restrict:"E",scope:{config:"=",data:"=",trendLineData:"="},templateUrl:"scripts/angular.common/attCharts/attBarChart/attBarChart.html",link:function(scope,element){window.onresize=function(){return scope.$apply()};var self=this;scope.attBarRender=function(data,config,trendLineData){var configObj=self.getDefaultConfig();$.extend(configObj,ObjectUtils.deepClone(config)),self.validateConfig(configObj);var selector=configObj.selector+" .attBarChartChart",chart=d3.selectAll(selector);chart.selectAll("*").remove(),AttChartOverlayService.removeOverlay(scope,element);var width=parseInt(configObj.width),height=parseInt(configObj.height),pad=configObj.padding;width=self.getAdjustedWidthIfScrollable(configObj,width);var svg=d3.select(selector).append("svg:svg").attr("width",width).attr("height",height).append("svg:g");$(svg.node()).parent().width(width);AttChartUtils.addChartTitle(configObj,svg,height,width);if(!data||data.length<1)return void AttChartOverlayService.addOverlay(scope,element,width,height);AttChartUtils.sortArrayByAggregationLevel(data,"label","ascending");var yreturn=self.doYAxis(configObj,data,trendLineData,width,height,pad,svg);pad=yreturn.pad;var xreturn=self.doXAxis(configObj,data,trendLineData,width,height,pad,svg,yreturn.scaley);height=xreturn.height,self.doShapes(configObj,data,trendLineData,width,height,pad,yreturn.scaley,yreturn.scaleyRight,xreturn.xscale,svg,xreturn.barWidth),AttChartUtils.adjustChartTitle(svg),AttChartUtils.setD3Size(svg,width,height,!0),AttChartUtils.adjustResolutionSelector(element[0].parentElement.id,width,GlobalEvents)},scope.$watchGroup(["data","config","trendLineData"],function(newVals){return!newVals||newVals.length<1?scope.attBarRender(newVals):scope.attBarRender(newVals[0],newVals.length>1?newVals[1]:void 0,newVals.length>2?newVals[2]:void 0)})},getDefaultConfig:function(){return{id:"att-bar-chart",selector:"",title:"",width:"500",height:"350",padding:[10,10,15,20],xAxisTitle:"",yAxisTitle:"",zAxisTitle:"",yAxisRightTitle:"",xElement:"label",yElement:"value",yIsInt:!1,yIsTime:!1,yRightIsInt:!1,yRightIsTime:!1,xPivotFilterName:"",yPivotFilterName:"",barType:"none",clearChartSelections:!0,specialLabel:"att-bar-chart",showHorizontalRules:!1,xContiguous:!1,selectorCharts:[],selectedColor:AttChartUtils.getAttunityChartSelectionColor(),trendLineColor:AttChartUtils.getAttunityChartTrendLineColor(),colorScheme:AttChartUtils.getAttunityColorScheme(),barColor:AttChartUtils.getAttunityChartUnselectedColor(),selectedOpacity:AttChartUtils.getAttunityChartSelectedOpacity(),unselectedOpacity:AttChartUtils.getAttunityChartUnselectedOpacity(),xTooltipFormatter:function(x){return Utils.formatNumber(x)},yTooltipFormatter:function(y){return Utils.formatNumber(y)},zTooltipFormatter:function(z){return Utils.formatNumber(z)},yRightTooltipFormatter:function(y){return Utils.formatNumber(y)}}},getAdjustedWidthIfScrollable:function(configObj,width){if(configObj.minBarWidth&&data.length*configObj.minBarWidth>width-pad[0]-pad[2]){var newWidth=data.length*configObj.minBarWidth+pad[0]+pad[2];newWidth>0&&5e4>newWidth&&(width=newWidth)}return width},validateConfig:function(configObj){return configObj?(configObj.selector=(configObj.selector&&"string"==typeof configObj.selector?configObj.selector:"")+" .attBarChartContainer",void(configObj.yElementRight=configObj.yElementRight?configObj.yElementRight:configObj.yElement)):void console.log("Error reading bar chart configuration.")},selectVertices:function(configObj,data,trendLineData,width,height,pad,scaley,scaleyRight,scalex,svg,barWidth){{var yyscale=scaleyRight.scale,yyfactor=scaleyRight.factor,chartWidth=width-pad[0]-pad[2],hasTrendLine=trendLineData&&trendLineData.length>0,elem=svg.selectAll("g.circle").data(trendLineData),bubbles=elem.enter().append("g").attr("transform",function(d,i){return hasTrendLine&&1==trendLineData.length?"translate("+(pad[0]+chartWidth/2)+","+yyscale(d[configObj.yElementRight]/yyfactor)+")":"translate("+(scalex(i)+barWidth/2)+","+yyscale(d[configObj.yElementRight]/yyfactor)+")"});bubbles.append("svg:circle").attr("class","bubble").attr("xvertex",function(d){return d[configObj.xElement]}).attr("yvertex",function(d){return d[configObj.yElementRight]}).attr("circle-num",function(d,i){return i}).style("fill",configObj.selectedColor).style("cursor","pointer").attr("opacity",configObj.unselectedOpacity).attr("r",4).on("mouseover",function(d){d3.select(this).attr("opacity",configObj.selectedOpacity);var lines=[];if(lines.push(configObj.yRightTooltipFormatter(d[configObj.yElementRight],0)+" "+configObj.yaxisRightTitle),configObj.tooltipElement)lines.push("in "+d[configObj.tooltipElement]);else{var value=d3.select(this).attr("xvertex");lines.push("in "+configObj.xAxisTitle+" "+value)}AttChartUtils.getPowertip(this,lines)}).on("mouseout",function(){var xBar=d3.select(this).attr("xvertex"),selected=1==d3.select(configObj.selector).selectAll("rect[xBar='"+xBar+"']").attr("barSelected")?1:0;d3.select(this).attr("opacity",0==selected?configObj.unselectedOpacity:configObj.selectedOpacity),AttChartUtils.hideAllPowertips()}).on("click",function(){var xNum=d3.select(this).attr("circle-num"),rect=d3.select(configObj.selector).selectAll("rect[xBarNum='"+xNum+"']"),selected=1==rect.attr("barSelected")?0:1;if(selected){rect.attr("barSelected",1).attr("pivotSelected",1);var selectedAdjacents=d3.select(configObj.selector).selectAll("rect[barSelected='1']"),minNum=xNum,maxNum=xNum;if(selectedAdjacents&&selectedAdjacents[0].length>1&&configObj.xContiguous)var minNum=d3.min(selectedAdjacents[0],function(d){return+d3.select(d).attr("xBarNum")}),maxNum=d3.max(selectedAdjacents[0],function(d){return+d3.select(d).attr("xBarNum")});if("periodic"==configObj.barType){if(configObj.selectorCharts)for(var i=0;i<configObj.selectorCharts.length;i++)for(var j=parseInt(minNum);j<=parseInt(maxNum);j++)d3.select(configObj.selectorCharts[i]).select("rect[xBarNum='"+j+"']").attr("barSelected",1).attr("pivotSelected",1).style("stroke",configObj.selectedColor).style("stroke-width","3px")}else for(var j=parseInt(minNum);j<=parseInt(maxNum);j++)d3.select(configObj.selector).select("rect[xBarNum='"+j+"']").attr("barSelected",1).attr("pivotSelected",1).style("stroke",configObj.selectedColor).style("stroke-width","3px"),hasTrendLine&&d3.select(configObj.selector).select("circle[circle-num='"+j+"']").attr("opacity",configObj.selectedOpacity)}else if("periodic"==configObj.barType){if(configObj.selectorCharts)for(var i=0;i<configObj.selectorCharts.length;i++)d3.select(configObj.selectorCharts[i]).selectAll("rect[barSelected='1']").attr("barSelected",0).attr("pivotSelected",0).style("stroke",function(){return d3.select(this).attr("data-fill")}).style("stroke-width","1px")}else d3.select(configObj.selector).selectAll("rect[barSelected='1']").attr("barSelected",0).attr("pivotSelected",0).style("stroke",function(){return d3.select(this).attr("data-fill")}).style("stroke-width","1px"),hasTrendLine&&d3.select(configObj.selector).selectAll("circle[circle-num]").attr("opacity",configObj.unselectedOpacity);AttChartSelectionService.notifyChartsSelected("attBarChart; trend line vertex selection")})}},doShapes:function(configObj,data,trendLineData,width,height,pad,scaley,scaleyRight,xscale,svg,barWidth){var hasTrendLine=trendLineData&&trendLineData.length>0,xfunc=function(x1,x2,dataLength){return 1==dataLength?function(){return x1+(x2-x1)/2-Math.min.apply(null,[xscale.rangeBand(),100])/2}:function(d,i){return xscale(i)}}(pad[0],width-pad[2],data.length),MIN_HEIGHT=2,shortDataset=[],shortIndices=[],xfuncShort=xfunc;1!=data.length&&(xfuncShort=function(){return function(d,i){return xscale(shortIndices[i])}}(pad[0],width-pad[2]));var self=this,barClickHandler=function(){if("regular"==configObj.barType||"periodic"==configObj.barType){var rect=d3.select(this),xNum=rect.attr("xBarNum"),selected=1==rect.attr("barSelected")?0:1;if(selected){rect.attr("barSelected",1).attr("pivotSelected",1);var selectedAdjacents=d3.select(configObj.selector).selectAll("rect[barSelected='1']"),minNum=xNum,maxNum=xNum;if(selectedAdjacents&&selectedAdjacents[0].length>1&&configObj.xContiguous)var minNum=d3.min(selectedAdjacents[0],function(d){return+d3.select(d).attr("xBarNum")}),maxNum=d3.max(selectedAdjacents[0],function(d){return+d3.select(d).attr("xBarNum")});if("periodic"==configObj.barType){if(configObj.selectorCharts)for(var i=0;i<configObj.selectorCharts.length;i++)for(var j=parseInt(minNum);j<=parseInt(maxNum);j++)d3.select(configObj.selectorCharts[i]).select("rect[xBarNum='"+j+"']").attr("barSelected",1).attr("pivotSelected",1).style("stroke",configObj.selectedColor).style("stroke-width","3px")}else for(var j=parseInt(minNum);j<=parseInt(maxNum);j++)d3.select(configObj.selector).select("rect[xBarNum='"+j+"']").attr("barSelected",1).attr("pivotSelected",1).style("stroke",configObj.selectedColor).style("stroke-width","3px"),hasTrendLine&&d3.select(configObj.selector).select("circle[circle-num='"+j+"']").attr("opacity",configObj.selectedOpacity)}else if("periodic"==configObj.barType){if(configObj.selectorCharts)for(var i=0;i<configObj.selectorCharts.length;i++)d3.select(configObj.selectorCharts[i]).selectAll("rect[barSelected='1']").attr("barSelected",0).attr("pivotSelected",0).style("stroke",function(){return d3.select(this).attr("data-fill")}).style("stroke-width","1px")}else{var chart=d3.select(configObj.selector);chart.selectAll("rect[barSelected='1']").attr("barSelected",0).attr("pivotSelected",0).style("stroke",function(){return d3.select(this).attr("data-fill")}).style("stroke-width","1px"),hasTrendLine&&chart.selectAll("circle[circle-num]").attr("opacity",configObj.unselectedOpacity)}AttChartSelectionService.notifyChartsSelected("attBarChart; "+configObj.barType+" bar selection")}else self.barOrTextClick(configObj,d3.select(this).attr("xBar"),d3.select(this).attr("bar-id"))},yscale=scaley.scale,yfactor=scaley.factor,barCount=0,getHeight=function(d,i){var h=yscale(0)-yscale(d[configObj.yElement]/yfactor);return MIN_HEIGHT>h&&h>-1&&(shortDataset.push(d),shortIndices.push(i)),h};if(svg.selectAll("g.rect").data(data).enter().append("svg:rect").attr("selector",configObj.selector).attr("selection-id",function(){return"attBarChart-bar-"+barCount++}).attr("barSelected",0).attr("pivotSelected",0).attr("class",function(){return"attBarChartBar"}).attr("bar-id",function(d){return configObj.nameElement?d[configObj.nameElement]:""}).attr("x",xfunc).attr("y",function(d){return yscale(d[configObj.yElement]/yfactor)}).attr("height",getHeight).attr("width",barWidth).attr("data-fill",configObj.colorScheme?function(d,i){return configObj.colorScheme[i]}:configObj.barColor).style("stroke-width","1px").style("stroke",function(){return d3.select(this).attr("data-fill")}).style("fill",function(){return d3.select(this).attr("data-fill")}).attr("xBarNum",function(d,i){return i}).attr("xBar",function(d){return d[configObj.xElement]}).attr("pivotData",function(d){var pivotPoint={};return configObj.xPivotFilterName&&(pivotPoint[configObj.xPivotFilterName]=d[configObj.xElement]),configObj.yPivotFilterName&&(pivotPoint[configObj.yPivotFilterName]=d[configObj.yElement]),AttChartUtils.buildChartPivots(pivotPoint)}).style("cursor","pointer").on("click",barClickHandler).on("mouseover",function(d){var h=yscale(0)-yscale(d[configObj.yElement]/yfactor);if(!(MIN_HEIGHT>h)){var lines=[];if(lines.push(configObj.yTooltipFormatter(d[configObj.yElement],0)+" "+configObj.yAxisTitle),configObj.tooltipElement)lines.push("in "+d[configObj.tooltipElement]);else{var value=d3.select(this).attr("xBar");lines.push("in "+configObj.xAxisTitle+" "+value)}AttChartUtils.getPowertip(this,lines)}}).on("mouseout",function(){AttChartUtils.hideAllPowertips()}),svg.selectAll("g.rect").data(shortDataset).enter().append("svg:rect").attr("x",xfuncShort).attr("y",function(){return yscale(0)-MIN_HEIGHT}).attr("height",function(){return MIN_HEIGHT}).attr("width",barWidth).attr("xBarNum-orig",function(d,i){return shortIndices[i]}).attr("selector",configObj.selector).style("cursor","pointer").attr("data-fill",configObj.colorScheme?function(d,i){return configObj.colorScheme[i]}:configObj.barColor).style("stroke-width","1px").style("stroke",function(){return d3.select(this).attr("data-fill")}).style("fill",function(){return d3.select(this).attr("data-fill")}).on("mouseover",function(d){var lines=[];if(lines.push(configObj.yTooltipFormatter(d[configObj.yElement],0)+" "+configObj.yAxisTitle),configObj.tooltipElement)lines.push("in "+d[configObj.tooltipElement]);else{var rect=d3.select(this),xNum=rect.attr("xBarNum-orig"),selector=rect.attr("selector"),origThis=$(selector+' rect[xBarNum="'+xNum+'"]')[0],value=d3.select(origThis).attr("xBar");lines.push("in "+configObj.xAxisTitle+" "+value)}AttChartUtils.getPowertip(this,lines)}).on("mouseout",function(){AttChartUtils.hideAllPowertips()}).on("click",function(){var rect=d3.select(this),xNum=rect.attr("xBarNum-orig"),selector=rect.attr("selector");barClickHandler.call($(selector+' rect[xBarNum="'+xNum+'"]')[0])}),hasTrendLine){{var theLine=d3.svg.line().x(function(d,i){return xscale(i)+barWidth/2}).y(function(d){return scaleyRight.scale(d[configObj.yElementRight]/scaleyRight.factor)}).interpolate("linear");svg.append("path").attr("class","line").attr("d",theLine(trendLineData)).attr("stroke",configObj.trendLineColor).attr("stroke-width",2).attr("fill","none").on("mouseover",function(){var lines=[];lines.push(configObj.yaxisRightTitle),AttChartUtils.getPowertip(this,lines)}).on("mouseout",function(){AttChartUtils.hideAllPowertips()})}if(1==trendLineData.length&&void 0!=trendLineData[0].y){svg.append("svg:circle").attr("class","single-point").attr("selector",configObj.selector).attr("xvertex",function(){return trendLineData[0].x}).attr("yvertex",function(){return trendLineData[0].y}).style("fill",configObj.trendLineColor).style("cursor","pointer").attr("opacity",.8).attr("cx",pad[0]+(width-pad[2]-pad[0])/2).attr("cy",scaleyRight.scale(trendLineData[0].y/scaleyRight.factor)).attr("r",4)}self.selectVertices(configObj,data,trendLineData,width,height,pad,scaley,scaleyRight,xscale,svg,barWidth)}d3.select(configObj.selector+" svg").attr("width",width).attr("height",height),configObj.linkedTable&&$(d3.select(configObj.selector).selectAll("rect")).each(function(){$(this).removeAttr("pivotData")})},doXAxis:function(configObj,data,trendLineData,width,height,pad,svg,scaley){var xDomainValues=d3.range(data.length),xscale=d3.scale.ordinal().domain(xDomainValues).rangeRoundBands([pad[0],width-pad[2]],.2);if(configObj.idElement&&"Row"!=configObj.idElement)for(var i=0;i<data.length;i++)data[i][configObj.xElement]=data[i][configObj.idElement]+". "+data[i][configObj.xElement];var self=this,chartWidth=width-pad[0]-pad[2],rotationScale=d3.scale.ordinal().domain(data.map(function(c){return c[configObj.xElement]})).rangeRoundBands([pad[0],width-pad[2]],.2),rotationInfo=AttChartUtils.getLabelRotationInfo(data,rotationScale,void 0,configObj.xElement,configObj.selector),rotateLabels="periodic"===configObj.barType?!1:rotationInfo.shouldRotate,xLabelHeight=rotateLabels?rotationInfo.rotatedPixelHeight+10:15;configObj.xAxisTitle&&configObj.xAxisTitle.length>0&&(xLabelHeight+=20),height+=xLabelHeight,height=AttChartUtils.drawXAxisTitle(svg,configObj.xAxisTitle,1,pad[0]+chartWidth/2,height,scaley.scale(0)+xLabelHeight,!1),d3.selectAll(configObj.selector+" svg").attr("width",width).attr("height",height).style("height",height+"px").style("width",width),d3.selectAll(configObj.selector+" svg g").attr("width",width).attr("height",height).style("height",height+"px").style("width",width),AttChartUtils.addDisplayData(data,chartWidth,configObj.selector);var barWidth=Math.min.apply(null,[xscale.rangeBand(),100]),text_xcenter=function(x1,x2,dataLength){return 1==dataLength?function(){return x1+(x2-x1)/2}:function(d,i){return xscale(i)+barWidth/2}}(pad[0],width-pad[2],data.length);return svg.selectAll("g.text").data(data).enter().append("svg:text").attr("text-anchor",rotateLabels?"end":"middle").attr("dx",rotateLabels?"-.28em":"0").attr("dy",rotateLabels?".25em":".71em").attr("class","xAxis").attr("transform",function(d,i){return"translate("+text_xcenter(d,i)+", "+(scaley.scale(0)+6)+") rotate("+(rotateLabels?-65:0)+",0,0)"}).attr("xBartext",function(d){return d[configObj.xElement]}).attr("bar-id",function(d){return void 0!=configObj.nameElement?d[configObj.nameElement]:""}).text(function(d){return d.display?d[configObj.xElement]:""}).style("cursor","pointer").on("click",function(){var selectorCharts=configObj.selectorCharts,hasTrendLine=trendLineData&&trendLineData.length>0;if("regular"==configObj.barType||"periodic"==configObj.barType){var xBar=d3.select(this).attr("xBartext"),rect=d3.select(configObj.selector).selectAll("rect[xBar='"+xBar+"']"),xNum=rect.attr("xBarNum"),selected=1==rect.attr("barSelected")?0:1;if(selected){rect.attr("barSelected",1).attr("pivotSelected",1);var selectedAdjacents=d3.select(configObj.selector).selectAll("rect[barSelected='1']"),minNum=xNum,maxNum=xNum;if(selectedAdjacents[0].length>1&&configObj.xContiguous&&(minNum=d3.min(selectedAdjacents[0],function(d){return+d3.select(d).attr("xBarNum")}),maxNum=d3.max(selectedAdjacents[0],function(d){return+d3.select(d).attr("xBarNum")})),"periodic"==configObj.barType)for(var i=0;i<selectorCharts.length;i++)for(var j=parseInt(minNum);j<=parseInt(maxNum);j++)d3.select(selectorCharts[i]).select("rect[xBarNum='"+j+"']").attr("barSelected",1).attr("pivotSelected",1).style("stroke",configObj.selectedColor).style("stroke-width","3px");else for(var j=parseInt(minNum);j<=parseInt(maxNum);j++)d3.select(configObj.selector).select("rect[xBarNum='"+j+"']").attr("barSelected",1).attr("pivotSelected",1).style("stroke",configObj.selectedColor).style("stroke-width","3px"),hasTrendLine&&d3.select(configObj.selector).select("circle[circle-num='"+j+"']").attr("opacity",configObj.selectedOpacity)}else if("periodic"==configObj.barType)for(var i=0;i<selectorCharts.length;i++)d3.select(selectorCharts[i]).selectAll("rect[barSelected='1']").attr("barSelected",0).attr("pivotSelected",0).style("stroke",function(){return d3.select(this).attr("data-fill")}).style("stroke-width","1px");else d3.select(configObj.selector).selectAll("rect[barSelected='1']").attr("barSelected",0).attr("pivotSelected",0).style("stroke",function(){return d3.select(this).attr("data-fill")}).style("stroke-width","1px"),hasTrendLine&&d3.select(configObj.selector).selectAll("circle[circle-num]").attr("opacity",configObj.unselectedOpacity);AttChartSelectionService.notifyChartsSelected("attBarChart; text selection")}else self.barOrTextClick(configObj,d3.select(this).attr("xBartext"),d3.select(this).attr("bar-id"))}),{xscale:xscale,height:height,barWidth:barWidth}},doYAxis:function(configObj,data,trendLineData,width,height,pad,svg){var yaxisColor,scaleyRight,yminRight,ymaxRight,yfactorRight,yscaleRight,relHeight=height-pad[3],scaley=AttChartUtils.autoSelectScale(data,configObj.yElement,relHeight,pad[1],!1,configObj.yIsTime,configObj.id),ymin=scaley.min,ymax=scaley.max,yfactor=scaley.factor,yscale=scaley.scale,hasTrendLine=trendLineData&&trendLineData.length>0;hasTrendLine&&(scaleyRight=AttChartUtils.autoSelectScale(trendLineData,configObj.yElementRight,relHeight,pad[1],!1,configObj.yRightIsTime,configObj.id),yminRight=scaleyRight.min,ymaxRight=scaleyRight.max,yfactorRight=scaleyRight.factor,yscaleRight=scaleyRight.scale,yaxisColor=configObj.barColor),AttChartUtils.drawYAxisTitle(svg,configObj.yAxisTitle,yaxisColor,yfactor,height,pad,configObj.yIsTime,null),hasTrendLine&&AttChartUtils.drawYAxisRightTitle(svg,configObj.yaxisRightTitle,configObj.trendLineColor,yfactorRight,width,height,pad,configObj.yRightIsTime);var yticks=yscale.ticks(configObj.yIsInt&&1==yfactor&&10>ymax-ymin?ymax-ymin:10),yLabelFormatter=AttChartUtils.formatTicks(yticks);if(pad[0]+=AttChartUtils.getPaddingSpaceForAxis(yticks),hasTrendLine){var yticksRight=yscaleRight.ticks(configObj.yRightIsInt&&10>ymaxRight-yminRight?ymaxRight-yminRight:10),yLabelFormatterRight=AttChartUtils.formatTicks(yticksRight);pad[2]+=AttChartUtils.getPaddingSpaceForAxis(yticksRight)}var yrule=svg.selectAll("g.rule").data(yticks).enter().append("svg:g").attr("class","rule").attr("text-anchor","end").attr("transform",function(d){return"translate(0,"+yscale(d)+")"}),horizLines=yrule.append("svg:line").attr("x1",pad[0]).attr("x2",width-pad[2]);if(configObj.showHorizontalRules&&horizLines.style("stroke",function(){return"#000"}).style("stroke-opacity",function(d){return d?.3:null}),yrule.append("svg:text").attr("x",pad[0]-10).attr("dy",".35em").attr("text-anchor","end").text(function(d){return yLabelFormatter(d)}),hasTrendLine){var ruleRight=svg.selectAll("g.ruleRight").data(yscaleRight.ticks(8)).enter().append("svg:g").attr("class","ruleRight").attr("transform",function(d){return"translate(0,"+yscaleRight(d)+")"});ruleRight.append("svg:text").attr("x",width-pad[2]+10).attr("dy",".35em").text(function(d){return yLabelFormatterRight(d)})}return{scaley:scaley,scaleyRight:scaleyRight,pad:pad}},barOrTextClick:function(configObj,xBar,barID){if(configObj.linkedTable){var selectr="#"+configObj.linkedTable+' tr[row-id="'+barID+'"]';$(selectr).click(),AttChartSelectionService.notifyChartsSelected("attBarChart; linked table selection")}}}}])}(angular);