function List(){function list(selection){selection.each(function(data){var svg=d3.select(this).selectAll("svg").data([data]),firsttime=svg.enter().append("svg");firsttime.append("rect").attr("class","background").attr("fill","#DDD").attr("fill-opacity",.5).attr("width","100%").attr("height","100%");firsttime.append("svg").attr("class","list");svg.attr("width",width.call(this,data)),svg.attr("height",height.call(this,data)),svg.attr("x",x.call(this,data)),svg.attr("y",y.call(this,data));var items=svg.select(".list").selectAll(".item").data(data,function(d){return d.id}),newitems=items.enter().insert("svg",":first-child").attr("class","item").attr("opacity",1e-8).attr("width",itemwidth).attr("height",itemheight).attr("x",itemx).attr("y",itemy);newitems.each(drawitem),items.transition().delay(400).duration(600).attr("x",itemx).attr("y",itemy),newitems.transition().delay(400).duration(600).attr("opacity",1),items.exit().transition().duration(1e3).attr("opacity",1e-6).remove()})}var width=d3.functor(100),height=d3.functor(100),x=d3.functor(0),y=d3.functor(0),itemwidth=d3.functor("100%"),itemheight=d3.functor(50),itemx=d3.functor(0),itemy=function(d,i){return(itemheight.call(this,d,i)+2)*i},drawitem=function(d,i){var item=d3.select(this);if(item.append("rect").attr("x","1%").attr("y","1%").attr("width","98%").attr("height","98%").attr("rx",itemheight.call(this,d,i)/2).attr("ry",itemheight.call(this,d,i)/2),d.name&&item.append("text").text(d.name).attr("x","50%").attr("dy","1em"),d.selection){var size=d.selection.length,text="("+size+" nodes)";if(1==size)var text="("+size+" node)";item.append("text").text(text).attr("x","50%").attr("dy","2em")}},bbox=function(){var brect=this.getBoundingClientRect();return{x:brect.left,y:brect.top,width:brect.right-brect.left,height:brect.bottom-brect.top}};return list.select=function(item){return d3.select(this).selectAll(".item").data([item],function(d){return d.id}).node()},list.width=function(_){return arguments.length?(width=d3.functor(_),list):width},list.height=function(_){return arguments.length?(height=d3.functor(_),list):height},list.x=function(_){return arguments.length?(x=d3.functor(_),list):x},list.y=function(_){return arguments.length?(y=d3.functor(_),list):y},list.itemwidth=function(_){return arguments.length?(itemwidth=d3.functor(_),list):itemwidth},list.itemheight=function(_){return arguments.length?(itemheight=d3.functor(_),list):itemheight},list.itemx=function(_){return arguments.length?(itemx=d3.functor(_),list):itemx},list.itemy=function(_){return arguments.length?(itemy=d3.functor(_),list):itemy},list.bbox=function(_){return arguments.length?(bbox=d3.functor(_),list):bbox},list}