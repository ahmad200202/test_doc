jQuery.fn.outerHTML=function(){return jQuery("<div />").append(this.eq(0).clone()).html()};var timestampToTimeString=function(timestamp){timestamp=Math.floor(timestamp);var date=new Date(timestamp),hours=date.getHours(),minutes=date.getMinutes();minutes=10>minutes?"0"+minutes:minutes;var seconds=date.getSeconds();seconds=10>seconds?"0"+seconds:seconds;var milliseconds=date.getMilliseconds();return milliseconds=10>milliseconds?"00"+milliseconds:100>milliseconds?"0"+milliseconds:milliseconds,hours+":"+minutes+":"+seconds+"."+milliseconds},DirectedAcyclicGraphTooltip=function(gravity){return Tooltip(gravity).title(function(d){function appendRow(key,key_class,value,value_class,tooltip){var keyrow=$("<div>").attr("class","key ellipsisStyle").append(key),valrow=$("<div>").attr("class","value").append(value);""!=key_class&&keyrow.addClass(key_class),""!=value_class&&valrow.addClass(value_class);var clearrow=$("<div>").attr("class","clear");tooltip.append($("<div>").append(keyrow).append(valrow).append(clearrow))}var node=d.report,tooltip=$("<div>").attr("class","xtrace-tooltip");if(node){var row_key=node.node_id,row_val="Columns ("+node.attributes.length+")";appendRow(row_key,"header",row_val,"header",tooltip);var max_items=15;if(node.attributes){for(var i=0;i<node.attributes.length&&max_items>i;i++){var type=node.attributes[i].type;""==type&&(type="FK"),appendRow(node.attributes[i].name,"",type,"",tooltip)}node.attributes.length>max_items&&appendRow("   ...","header","","",tooltip)}}return tooltip.outerHTML()})},Tooltip=function(gravity){null==gravity&&(gravity=$.fn.tipsy.autoWE);var self=this,tooltip=function(selection){selection.each(function(d){$(this).tipsy({gravity:gravity,delayIn:550,html:!0,title:function(){return self.show_tooltips?title(d):""},opacity:1})})},title=function(){return""};return tooltip.hide=function(){$(".tipsy").remove()},tooltip.title=function(_){return 0==arguments.length?title:(title=_,tooltip)},tooltip.setEnabled=function(enabled){self.show_tooltips=enabled},tooltip};