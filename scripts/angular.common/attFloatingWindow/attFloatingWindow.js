!function(angular){"use strict";angular.module("attDragModule",[]).directive("attDraggable",[function(){return{restrict:"AE",link:function(scope,el,attrs){scope.minimized=!1,scope.obj={id:null,content:"",group:null},scope.placeholder=!1,scope.obj.content=el.html(),angular.isDefined(attrs.id)&&(scope.obj.id=attrs.id),angular.isDefined(attrs.placeholder)&&(scope.placeholder=scope.$eval(attrs.placeholder));var opts=angular.isDefined(attrs.draggable)?scope.$eval(attrs.draggable):{};angular.isDefined(attrs.group)&&(scope.obj.group=attrs.group,opts.stack="."+attrs.group);var evts={start:function(evt,ui){scope.placeholder&&ui.helper.wrap('<div class="dragging"></div>'),scope.$apply(function(){scope.$emit("draggable.started",{obj:scope.obj})})},drag:function(){scope.$apply(function(){scope.$emit("draggable.dragging")})},stop:function(evt,ui){scope.placeholder&&ui.helper.unwrap(),scope.$apply(function(){scope.$emit("draggable.stopped")})}},options=angular.extend({},opts,evts);el.draggable(options)}}}]).run(["$templateCache",function($templateCache){$templateCache.put("/templates/draggable/default","<div ng-transclude></div>")}]),angular.module("attResizeModule",[]).directive("attResizeable",["$timeout",function($timeout){return{restrict:"A",link:function(scope,el,attrs){scope.obj={el:null,id:null,size:null},scope.obj.el=el,angular.isDefined(attrs.id)&&(scope.obj.id=attrs.id);var opts=angular.isDefined(attrs.resizeable)?scope.$eval(attrs.resizeable):{},evts={create:function(){$timeout(function(){scope.$apply(function(){scope.$emit("resizeable.create",{obj:scope.obj})})})},start:function(){$timeout(function(){scope.$apply(function(){scope.$emit("resizeable.start",{obj:scope.obj})})})},stop:function(evt,ui){scope.$apply(function(){scope.$emit("resizeable.stop",{ui:ui}),scope.obj.size=angular.copy(ui.size),console.log(scope.obj.size)})},resize:function(){$timeout(function(){scope.$apply(function(){scope.$emit("resizeable.resizing")})})}},options=angular.extend({},opts,evts);el.resizable(options),scope.$on("resizeable.set.height",function(evt,params){angular.isDefined(params.height)&&el.css("height",parseInt(params.height)+"px")}),scope.$on("resizeable.set.width",function(evt,params){angular.isDefined(params.width)&&el.css("width",parseInt(params.width)+"px")}),scope.$on("resizeable.reset.height",function(){angular.isDefined(scope.obj.size)&&el.css("height",scope.obj.size.height+"px")}),scope.$on("resizeable.reset.width",function(){angular.isDefined(scope.obj.size)&&el.css("width",scope.obj.size.width+"px")})}}}]),angular.module("attFloatingWindowModule",["ngAnimate","attDragModule","attResizeModule"]).directive("attFloatingWindow",["$animate",function($animate){return{restrict:"E",transclude:!0,replace:!0,templateUrl:"/templates/window",scope:{id:"@id",title:"@title"},link:function(scope,el){scope.minimized=!1,el.css("top","-500px"),scope.minimize=function(){scope.minimized=!scope.minimized,angular.equals(scope.minimized,!0)?($animate.addClass(el,"minimize"),el.css("top","-100px"),el.css("left","0px")):($animate.removeClass(el,"minimize"),el.css("top","-200px"),el.css("left","200px"))}}}}]).run(["$templateCache",function($templateCache){$templateCache.put("/templates/window",'<div class="floating-window" id="{{id}}"  att-Draggable="{handle: \'div.panel-heading\',opacity: 0.5}"><div class="panel panel-primary" att-Resizeable="{handles: \'se\', alsoResize: \'#windowBodyContent\'}"><div class="panel-heading cursor-move" id="windowHeading"><span class="pull-right"><a type="button" id="windowMinimizeBtn" class="btn btn-primary btn-xs" ng-click="minimize()"><span class="glyphicon" ng-class="{false: \'glyphicon-chevron-up\',true: \'glyphicon-chevron-down\'}[minimized]"></span></a></span><span><big>{{title}}</big></span></div><div id="windowBody"><div class="panel-body" id="windowBodyContent" ng-transclude></div><div class="panel-footer"><small>&nbsp;</small><span class="pull-right glyphicon glyphicon-resize-full ui-resizable-handle ui-resizable-se"></span></div></div></div></div>')}])}(angular);