module.exports=function(grunt){"use strict";function fakeTargetTask(prefix){return function(){if(1!==this.args.length)return grunt.log.fail("Just give the name of the "+prefix+" you want like :\ngrunt "+prefix+":bower");var done=this.async(),spawn=require("child_process").spawn;spawn("./node_modules/.bin/gulp",[prefix,"--branch="+this.args[0]].concat(grunt.option.flags()),{cwd:"./node_modules/angular-ui-publisher",stdio:"inherit"}).on("close",done)}}require("load-grunt-tasks")(grunt),grunt.registerTask("default",["jshint","karma:unit"]),grunt.registerTask("serve",["connect:continuous","karma:continuous","watch"]),grunt.registerTask("dist",["ngAnnotate","uglify"]),grunt.registerTask("build",fakeTargetTask("build")),grunt.registerTask("publish",fakeTargetTask("publish")),grunt.initConfig({bower:"bower_components",dist:"<%= bower %>/angular-ui-docs",pkg:grunt.file.readJSON("package.json"),meta:{banner:["/**"," * <%= pkg.name %> - <%= pkg.description %>",' * @version v<%= pkg.version %> - <%= grunt.template.today("yyyy-mm-dd") %>'," * @link <%= pkg.homepage %>"," * @license <%= pkg.license %>"," */",""].join("\n")},watch:{src:{files:["src/*"],tasks:["jshint:src","karma:unit:run","dist","build:gh-pages"]},test:{files:["test/*.js"],tasks:["jshint:test","karma:unit:run"]},demo:{files:["demo/*","publish.js"],tasks:["jshint","build:gh-pages"]},livereload:{files:["out/built/gh-pages/**/*"],options:{livereload:!0}}},karma:{unit:{configFile:"test/karma.conf.js",singleRun:!0},server:{configFile:"test/karma.conf.js"},continuous:{configFile:"test/karma.conf.js",background:!0}},connect:{options:{base:"out/built/gh-pages",open:!0,livereload:!0},server:{options:{keepalive:!0}},continuous:{options:{keepalive:!1}}},jshint:{src:{files:{src:["src/*.js","demo/**/*.js"]},options:{jshintrc:".jshintrc"}},test:{files:{src:["test/*.spec.js","publish.js","gruntFile.js"]},options:grunt.util._.extend({},grunt.file.readJSON(".jshintrc"),{node:!0,globals:{angular:!1,inject:!1,jQuery:!1,jasmine:!1,afterEach:!1,beforeEach:!1,ddescribe:!1,describe:!1,expect:!1,iit:!1,it:!1,spyOn:!1,xdescribe:!1,xit:!1}})}},uglify:{options:{banner:"<%= meta.banner %>"},build:{expand:!0,cwd:"dist",src:["*.js"],ext:".min.js",dest:"dist"}},ngAnnotate:{main:{expand:!0,cwd:"src",src:["*.js"],dest:"dist"}},changelog:{options:{dest:"CHANGELOG.md",from:grunt.option("from")}}})};